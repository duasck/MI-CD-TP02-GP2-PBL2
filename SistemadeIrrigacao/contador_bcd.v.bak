module contador_bcd (
    input wire clk,
    input wire r, // reset
    output wire s0,
    output wire s1,
    output wire s2,
    output wire s3
);

    wire s0bar, s1bar, s2bar, s3bar;
    wire reset_n;

    // Inversores
    not (s0bar, s0);
    not (s1bar, s1);
    not (s2bar, s2);
    not (s3bar, s3);

    // Reset logic
    assign reset_n = ~(s3 & ~s2 & s1 & s0); // Reset when the count is 9 (1001)

    // Inst√¢ncias dos flip-flops JK
    jk_ff c1 (.clk(clk), .rst_n(reset_n & ~r), .j(1'b1), .k(1'b1), .q(s0), .q_bar(s0bar));
    jk_ff c2 (.clk(clk), .rst_n(reset_n & ~r), .j(s0), .k(s0), .q(s1), .q_bar(s1bar));
    jk_ff c3 (.clk(clk), .rst_n(reset_n & ~r), .j(s0 & s1), .k(s0 & s1), .q(s2), .q_bar(s2bar));
    jk_ff c4 (.clk(clk), .rst_n(reset_n & ~r), .j(s0 & s1 & s2), .k(s0 & s1 & s2), .q(s3), .q_bar(s3bar));

endmodule
